import{d as q,j as ae,b as o,o as v,c as $,e,w as t,F as de,k as _e,l as S,f as w,t as H,u as p,h,_ as L,a as V,r as ue,g as s,m as T,n as M,E as C,p as ie,i as re}from"./index-056ef9e9.js";import{u as ce}from"./user-d7605884.js";import"./index-04cccabd.js";const pe=q({__name:"Breadcrumb",setup(g){const m=ae(()=>h.currentRoute.value.matched.filter(k=>k.meta.title));return(k,b)=>{const d=o("el-breadcrumb-item"),a=o("el-breadcrumb");return v(),$("div",null,[e(a,{separator:"/"},{default:t(()=>[(v(!0),$(de,null,_e(p(m),r=>(v(),S(d,{key:r.path,to:{path:r==null?void 0:r.path}},{default:t(()=>{var _;return[w(H((_=r==null?void 0:r.meta)==null?void 0:_.title),1)]}),_:2},1032,["to"]))),128))]),_:1})])}}});const me=L(pe,[["__scopeId","data-v-ee0055ce"]]),i=g=>(ie("data-v-9f6cd060"),g=g(),re(),g),fe={class:"grid-content logo-wrapper"},xe=i(()=>s("p",{class:"system_name"},"Redis Manager",-1)),ve={class:"system_name"},ge=i(()=>s("span",null,"概览",-1)),we=i(()=>s("span",null,"Redis集群",-1)),ke=i(()=>s("span",null,"自建Codis集群",-1)),Ce=i(()=>s("span",null,"自建Cluster集群",-1)),be=i(()=>s("span",null,"腾讯Redis集群",-1)),ye=i(()=>s("span",null,"阿里Redis集群",-1)),Ve=i(()=>s("span",null,"数据查询",-1)),$e=i(()=>s("span",null,"用户管理",-1)),Se=i(()=>s("span",null,"系统设置",-1)),he=i(()=>s("span",null,"全局配置",-1)),Ie=i(()=>s("span",null,"权限配置",-1)),Be=i(()=>s("span",null,"历史记录",-1)),Re={class:"dialog-footer"},Fe=q({__name:"Index",setup(g){const m=V(!1),k=sessionStorage.getItem("user_name"),b="100px",d=ue({old:"",new:""});let a=V(!1),r=V("");const _=f=>{sessionStorage.setItem("activePath",f),r.value=f},P=()=>{sessionStorage.clear(),h.push("/login")},j=async()=>{if(console.log(d),!d.old)C.error("未获取到的旧密码");else if(!d.new)C.error("未获取到的新密码");else{const f=await ce(d);f.data.errorCode===0?(C.success("变更成功"),sessionStorage.clear(),h.push("/login")):C.error(f.data.msg),m.value=!1}},A=()=>{m.value=!1,d.old="",d.new=""};return(f,n)=>{const D=o("Fold"),W=o("Expand"),u=o("el-icon"),I=o("el-col"),B=o("el-dropdown-item"),R=o("el-dropdown-menu"),z=o("el-dropdown"),G=o("el-row"),J=o("el-header"),K=o("HomeFilled"),c=o("el-menu-item"),O=o("TakeawayBox"),x=o("CaretRight"),F=o("el-sub-menu"),Q=o("MagicStick"),X=o("User"),Y=o("Setting"),Z=o("Tickets"),ee=o("el-menu"),te=o("el-aside"),ne=o("router-view"),oe=o("el-main"),y=o("el-container"),U=o("el-input"),E=o("el-form-item"),le=o("el-form"),N=o("el-button"),se=o("el-dialog");return v(),$("div",null,[e(y,{class:"home-container"},{default:t(()=>[e(J,null,{default:t(()=>[e(G,null,{default:t(()=>[e(I,{span:2},{default:t(()=>[s("div",fe,[e(u,{modelValue:p(a),"onUpdate:modelValue":n[0]||(n[0]=l=>T(a)?a.value=l:a=l),onClick:n[1]||(n[1]=l=>T(a)?a.value=!p(a):a=!p(a))},{default:t(()=>[p(a)?(v(),S(D,{key:0})):M("",!0),p(a)?M("",!0):(v(),S(W,{key:1}))]),_:1},8,["modelValue"]),xe])]),_:1}),e(I,{offset:14,span:8,style:{"min-width":"150px"}},{default:t(()=>[e(z,{style:{float:"right",margin:"20px 10px"}},{dropdown:t(()=>[e(R,null,{default:t(()=>[e(B,{onClick:n[2]||(n[2]=l=>m.value=!0)},{default:t(()=>[w("更改密码")]),_:1})]),_:1}),e(R,null,{default:t(()=>[e(B,{onClick:P},{default:t(()=>[w("退出系统")]),_:1})]),_:1})]),default:t(()=>[s("span",ve,H(p(k)),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(y,{style:{overflow:"auto"}},{default:t(()=>[e(te,null,{default:t(()=>[e(ee,{"active-text-color":"#ffd04b","background-color":"#545c64",class:"el-menu-vertical-demo","text-color":"#fff",collapse:p(a),router:"","default-active":p(r)},{default:t(()=>[e(c,{index:"/dashboard",onClick:n[3]||(n[3]=l=>_("/dashboard"))},{default:t(()=>[e(u,null,{default:t(()=>[e(K)]),_:1}),ge]),_:1}),e(F,{index:"1"},{title:t(()=>[e(u,null,{default:t(()=>[e(O)]),_:1}),we]),default:t(()=>[e(c,{index:"/codis/index",onClick:n[4]||(n[4]=l=>_("/codis/index"))},{default:t(()=>[e(u,null,{default:t(()=>[e(x)]),_:1}),ke]),_:1}),e(c,{index:"/redis/index",onClick:n[5]||(n[5]=l=>_("/redis/index"))},{default:t(()=>[e(u,null,{default:t(()=>[e(x)]),_:1}),Ce]),_:1}),e(c,{index:"/txredis/index",onClick:n[6]||(n[6]=l=>_("/txredis/index"))},{default:t(()=>[e(u,null,{default:t(()=>[e(x)]),_:1}),be]),_:1}),e(c,{index:"/aliredis/index",onClick:n[7]||(n[7]=l=>_("/aliredis/index"))},{default:t(()=>[e(u,null,{default:t(()=>[e(x)]),_:1}),ye]),_:1})]),_:1}),e(c,{index:"/command/query",onClick:n[8]||(n[8]=l=>_("/command/query"))},{default:t(()=>[e(u,null,{default:t(()=>[e(Q)]),_:1}),Ve]),_:1}),e(c,{index:"/user/index",onClick:n[9]||(n[9]=l=>_("/user/index"))},{default:t(()=>[e(u,null,{default:t(()=>[e(X)]),_:1}),$e]),_:1}),e(F,{index:"2"},{title:t(()=>[e(u,null,{default:t(()=>[e(Y)]),_:1}),Se]),default:t(()=>[e(c,{index:"/setting/index",onClick:n[10]||(n[10]=l=>_("/setting/index"))},{default:t(()=>[e(u,null,{default:t(()=>[e(x)]),_:1}),he]),_:1}),e(c,{index:"/setting/rule",onClick:n[11]||(n[11]=l=>_("/setting/rule"))},{default:t(()=>[e(u,null,{default:t(()=>[e(x)]),_:1}),Ie]),_:1})]),_:1}),e(c,{index:"/history/index",onClick:n[12]||(n[12]=l=>_("/history/index"))},{default:t(()=>[e(u,null,{default:t(()=>[e(Z)]),_:1}),Be]),_:1})]),_:1},8,["collapse","default-active"])]),_:1}),e(y,null,{default:t(()=>[e(oe,null,{default:t(()=>[e(me),e(ne)]),_:1})]),_:1})]),_:1})]),_:1}),e(se,{modelValue:m.value,"onUpdate:modelValue":n[17]||(n[17]=l=>m.value=l),title:"修改密码",width:"30%","align-center":""},{footer:t(()=>[s("span",Re,[e(N,{onClick:n[15]||(n[15]=l=>A())},{default:t(()=>[w("取消")]),_:1}),e(N,{type:"primary",onClick:n[16]||(n[16]=l=>j())},{default:t(()=>[w("确定")]),_:1})])]),default:t(()=>[e(le,{model:d},{default:t(()=>[e(E,{label:"老密码","label-width":b},{default:t(()=>[e(U,{modelValue:d.old,"onUpdate:modelValue":n[13]||(n[13]=l=>d.old=l),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(E,{label:"新密码","label-width":b},{default:t(()=>[e(U,{modelValue:d.new,"onUpdate:modelValue":n[14]||(n[14]=l=>d.new=l),type:"password",autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}});const Te=L(Fe,[["__scopeId","data-v-9f6cd060"]]);export{Te as default};
